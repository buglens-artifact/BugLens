[32m[     info][0m Compiler type: llvm
[32m[     info][0m Bad compiler: /tmp/deduplication/prebuild_compilers/llvm-2.8.0/bin/clang
====================Ground truth & buggy output:====================
Correct output:
280
Output of llvm-2.8.0 with -O2:
24
Output of llvm-2.8.0 with -Os:
280
====================================================================
[32m[     info][0m Good version found: llvm-2.6.0
[32m[     info][0m Start Bisection...
Removing llvm/tools/clang/
No local changes to save
Bisecting: a merge base must be tested
[56d60eaa616498200d8090f45c2602e42e7c5385] revert r79708 + r79711
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [56d60ea]
+---------------------------------------- Current commit hash: [56d60ea] ----------------------------------------+
[32m[     info][0m LLVM with commit [56d60ea] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-56d60ea/bin/clang with -O2:
280
Output of /tmp/llvm-56d60ea/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [56d60ea] is good. Return value: 0

Bisecting: 12261 revisions left to test after this (roughly 14 steps)
[56ec7895210b6b488d9915963927489085000278] fix two bugs in OPC_EmitRegister, which makes ppc happier.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [56ec789]
+---------------------------------------- Current commit hash: [56ec789] ----------------------------------------+
[32m[     info][0m LLVM with commit [56ec789] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-56ec789/bin/clang with -O2:
280
Output of /tmp/llvm-56ec789/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [56ec789] is good. Return value: 0

Bisecting: 6130 revisions left to test after this (roughly 13 steps)
[4cdcf59c6d00f049df1416bccbeac2a23bdd287c] Testing commit access.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [4cdcf59]
+---------------------------------------- Current commit hash: [4cdcf59] ----------------------------------------+
[32m[     info][0m LLVM with commit [4cdcf59] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-4cdcf59/bin/clang with -O2:
24
Output of /tmp/llvm-4cdcf59/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [4cdcf59] is bad. Return value: 1

Bisecting: 3065 revisions left to test after this (roughly 12 steps)
[bd4ca62c80c65f3d0c5aa5b44baebc7a50158351] document isvolatile etc.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [bd4ca62]
+---------------------------------------- Current commit hash: [bd4ca62] ----------------------------------------+
[32m[     info][0m LLVM with commit [bd4ca62] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-bd4ca62/bin/clang with -O2:
280
Output of /tmp/llvm-bd4ca62/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [bd4ca62] is good. Return value: 0

Bisecting: 1532 revisions left to test after this (roughly 11 steps)
[63ac5999f1d20769f1381ed05ba59eef4339d83f] Refactor visitor logic for clang_annotateTokens() into a worker class.  No functionality change yet.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [63ac599]
+---------------------------------------- Current commit hash: [63ac599] ----------------------------------------+
[32m[     info][0m LLVM with commit [63ac599] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-63ac599/bin/clang with -O2:
24
Output of /tmp/llvm-63ac599/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [63ac599] is bad. Return value: 1

Bisecting: 766 revisions left to test after this (roughly 10 steps)
[b6410e168c9f4ee20b4d6c9b33c2c14db67d682f] add __builtin_[r]index.  Perhaps all LIBBUILTIN's should get these or something?
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [b6410e1]
+---------------------------------------- Current commit hash: [b6410e1] ----------------------------------------+
[32m[     info][0m LLVM with commit [b6410e1] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-b6410e1/bin/clang with -O2:
24
Output of /tmp/llvm-b6410e1/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [b6410e1] is bad. Return value: 1

Bisecting: 382 revisions left to test after this (roughly 9 steps)
[1939b5f13048e8cd7006480555d62f317ac55c32] Trim #includes.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [1939b5f]
+---------------------------------------- Current commit hash: [1939b5f] ----------------------------------------+
[32m[     info][0m LLVM with commit [1939b5f] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-1939b5f/bin/clang with -O2:
24
Output of /tmp/llvm-1939b5f/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [1939b5f] is bad. Return value: 1

Bisecting: 191 revisions left to test after this (roughly 8 steps)
[37c75af0f889ac3437924e0acb7cb4e69cb4aa8c] fix PR6287 by accepting and ignoring the returns_twice attribute.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [37c75af]
+---------------------------------------- Current commit hash: [37c75af] ----------------------------------------+
[32m[     info][0m LLVM with commit [37c75af] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-37c75af/bin/clang with -O2:
280
Output of /tmp/llvm-37c75af/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [37c75af] is good. Return value: 0

Bisecting: 95 revisions left to test after this (roughly 7 steps)
[538be4622c4699a2821a134332a65b04b94fba3f] During referencing binding, only consider conversion functions for direct reference binding when the source and target types are not reference-related. Fixes PR6066.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [538be46]
+---------------------------------------- Current commit hash: [538be46] ----------------------------------------+
[32m[     info][0m LLVM with commit [538be46] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-538be46/bin/clang with -O2:
280
Output of /tmp/llvm-538be46/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [538be46] is good. Return value: 0

Bisecting: 47 revisions left to test after this (roughly 6 steps)
[a98e8aa15d47e37e39ccf2d2dc0a4564c5bfa4cd] Introduce ASTVector, which is a std::vector-like class that allocates all memory using the allocator associated with an ASTContext.  This is largely copy-and-paste from SmallVector, and should be refactored one day.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [a98e8aa]
+---------------------------------------- Current commit hash: [a98e8aa] ----------------------------------------+
[32m[     info][0m LLVM with commit [a98e8aa] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-a98e8aa/bin/clang with -O2:
24
Output of /tmp/llvm-a98e8aa/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [a98e8aa] is bad. Return value: 1

Bisecting: 23 revisions left to test after this (roughly 5 steps)
[4ca4bc6f95d80d896e632e08bcb765813fd515d4] Re-apply 101075 and fix it properly. Just reuse the debug info of the branch instruction being optimized. There is no need to --I which can deref off start of the BB.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [4ca4bc6]
+---------------------------------------- Current commit hash: [4ca4bc6] ----------------------------------------+
[32m[     info][0m LLVM with commit [4ca4bc6] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-4ca4bc6/bin/clang with -O2:
24
Output of /tmp/llvm-4ca4bc6/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [4ca4bc6] is bad. Return value: 1

Bisecting: 11 revisions left to test after this (roughly 4 steps)
[8a2dae57e229dc0b6e3ae6582709f96696483143] Add a few comments.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [8a2dae5]
+---------------------------------------- Current commit hash: [8a2dae5] ----------------------------------------+
[32m[     info][0m LLVM with commit [8a2dae5] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-8a2dae5/bin/clang with -O2:
280
Output of /tmp/llvm-8a2dae5/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [8a2dae5] is good. Return value: 0

Bisecting: 5 revisions left to test after this (roughly 3 steps)
[0a2aff2d12ec21658516f19546c8cf3a6ef96ed9] Teach postra machine licm to hoist more obvious invariants, e.g. instructions with no source operands.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [0a2aff2]
+---------------------------------------- Current commit hash: [0a2aff2] ----------------------------------------+
[32m[     info][0m LLVM with commit [0a2aff2] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-0a2aff2/bin/clang with -O2:
280
Output of /tmp/llvm-0a2aff2/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [0a2aff2] is good. Return value: 0

Bisecting: 2 revisions left to test after this (roughly 2 steps)
[d67f66dc0c070c9bd5dedefac0ebeb08893ed5ef] Temporarily revert r101075, it's causing invalid iterator assertions in a nightly tester.
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [d67f66d]
+---------------------------------------- Current commit hash: [d67f66d] ----------------------------------------+
[32m[     info][0m LLVM with commit [d67f66d] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-d67f66d/bin/clang with -O2:
24
Output of /tmp/llvm-d67f66d/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [d67f66d] is bad. Return value: 1

Bisecting: 0 revisions left to test after this (roughly 1 step)
[7e9d52aaca421d2e2e589ec79cc6b2f68d0398bd] Variation of objc_copyStruct API generation when property (atomic/nonatomic) is of aggregate type with gc'able member objects) (NeXT runtime).
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [7e9d52a]
+---------------------------------------- Current commit hash: [7e9d52a] ----------------------------------------+
[32m[     info][0m LLVM with commit [7e9d52a] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-7e9d52a/bin/clang with -O2:
24
Output of /tmp/llvm-7e9d52a/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [7e9d52a] is bad. Return value: 1

Bisecting: 0 revisions left to test after this (roughly 0 steps)
[ff0e2a36e2574df7c5bb30ee491118b8007421c0] Rework the ConstStructBuilder code to emit missing initializer elements with explicit zero values instead of with tail padding. On an example like this:
running /tmp/deduplication/scripts/r_wrongcode_llvm.sh /tmp/deduplication/benchmarks/llvm280/60 small
[32m[     info][0m Testing commit: [ff0e2a3]
+---------------------------------------- Current commit hash: [ff0e2a3] ----------------------------------------+
[32m[     info][0m LLVM with commit [ff0e2a3] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-ff0e2a3/bin/clang with -O2:
24
Output of /tmp/llvm-ff0e2a3/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [ff0e2a3] is bad. Return value: 1

ff0e2a36e2574df7c5bb30ee491118b8007421c0 is the first bad commit
commit ff0e2a36e2574df7c5bb30ee491118b8007421c0
Author: Chris Lattner <sabre@nondot.org>
Date:   Tue Apr 13 18:16:19 2010 +0000

    Rework the ConstStructBuilder code to emit missing initializer
    elements with explicit zero values instead of with tail padding.
    On an example like this:
    
    struct foo { int a; int b; };
    
    struct foo fooarray[] = {
        {1, 2},
        {4},
    };
    
    We now lay this out as:
    
    @fooarray = global [2 x %struct.foo] [%struct.foo { i32 1, i32 2 }, %struct.foo { i32 4, i32 0 }]
    
    instead of as:
    
    @fooarray = global %0 <{ %struct.foo { i32 1, i32 2 }, %1 { i32 4, [4 x i8] zeroinitializer } }>
    
    Preserving both the struct type of the second element, but also the array type of the entire thing.
    
    llvm-svn: 101155

:040000 040000 bd74c17a81ea31b568c07d39ce4598a2ff003021 692a75c4f5028de093f23354cf3799bff90b6fe4 M	clang
bisect run success
[32m[     info][0m First bad commit: ff0e2a3 Rework the ConstStructBuilder code to emit missing initializer elements with explicit zero values instead of with tail padding. On an example like this:
Previous HEAD position was ff0e2a3... Rework the ConstStructBuilder code to emit missing initializer elements with explicit zero values instead of with tail padding. On an example like this:
HEAD is now at c7c89b8... Fix small bug in handling instructions with more than one implicitly defined operand.

[32m[     info][0m Checking the result...
=========================================================================================================================
[32m[     info][0m Testing commit: [ff0e2a3]
+---------------------------------------- Current commit hash: [ff0e2a3] ----------------------------------------+
[32m[     info][0m LLVM with commit [ff0e2a3] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-ff0e2a3/bin/clang with -O2:
24
Output of /tmp/llvm-ff0e2a3/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [ff0e2a3] is bad. Return value: 1

[32m[     info][0m Testing commit: [0a2aff2]
+---------------------------------------- Current commit hash: [0a2aff2] ----------------------------------------+
[32m[     info][0m LLVM with commit [0a2aff2] already built. Use existing binary.
------------------Current output:-------------------
Ground truth:
280
Output of /tmp/llvm-0a2aff2/bin/clang with -O2:
280
Output of /tmp/llvm-0a2aff2/bin/clang with -Os:
280
----------------------------------------------------
[32m[     info][0m Current commit [0a2aff2] is good. Return value: 0

[32m[     info][0m Bisection result is correct.
=========================================================================================================================

[32m[     info][0m Getting extra information...
=========================================================================================================================
Output of llvm [ff0e2a3] with -O0:
280
Output of llvm [ff0e2a3] with -O1:
280
Output of llvm [ff0e2a3] with -O2:
24
Output of llvm [ff0e2a3] with -O3:
280
Output of llvm [ff0e2a3] with -Os:
280
[32m[     info][0m Got extra information.
=========================================================================================================================
[32m[     info][0m Bisection done.
